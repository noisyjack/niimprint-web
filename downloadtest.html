<html>
<body>

    <input type="file" id="file" oninput="handleSubmit()" accept=".config">
    

    

   <script>

    // Get the form and file field
    let file = document.querySelector('#file');

    // Listen for submit events
    file.addEventListener('oninput', handleSubmit);

    function handleSubmit() {


    // If there's no file, do nothing
    if (!file.value.length) return;

    // Create a new FileReader() object
    let reader = new FileReader();

    // Setup the callback event to run when the file is read
    reader.onload = logFile;

    // Read the file
    reader.readAsText(file.files[0]);

    }

    function logFile (event) {

	let str = event.target.result;
	let json = JSON.parse(str);
	console.log('string', str);
	console.log('json', json);

    }

   </script>
</body>
</html>


